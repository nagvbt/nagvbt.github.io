"use strict";(self.webpackChunknagvbt=self.webpackChunknagvbt||[]).push([[26796],{3905:(t,r,e)=>{e.d(r,{Zo:()=>c,kt:()=>C});var n=e(67294);function a(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function o(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?o(Object(e),!0).forEach((function(r){a(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}function i(t,r){if(null==t)return{};var e,n,a=function(t,r){if(null==t)return{};var e,n,a={},o=Object.keys(t);for(n=0;n<o.length;n++)e=o[n],r.indexOf(e)>=0||(a[e]=t[e]);return a}(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)e=o[n],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(a[e]=t[e])}return a}var p=n.createContext({}),g=function(t){var r=n.useContext(p),e=r;return t&&(e="function"==typeof t?t(r):l(l({},r),t)),e},c=function(t){var r=g(t.components);return n.createElement(p.Provider,{value:r},t.children)},s="mdxType",m={inlineCode:"code",wrapper:function(t){var r=t.children;return n.createElement(n.Fragment,{},r)}},u=n.forwardRef((function(t,r){var e=t.components,a=t.mdxType,o=t.originalType,p=t.parentName,c=i(t,["components","mdxType","originalType","parentName"]),s=g(e),u=a,C=s["".concat(p,".").concat(u)]||s[u]||m[u]||o;return e?n.createElement(C,l(l({ref:r},c),{},{components:e})):n.createElement(C,l({ref:r},c))}));function C(t,r){var e=arguments,a=r&&r.mdxType;if("string"==typeof t||a){var o=e.length,l=new Array(o);l[0]=u;var i={};for(var p in r)hasOwnProperty.call(r,p)&&(i[p]=r[p]);i.originalType=t,i[s]="string"==typeof t?t:a,l[1]=i;for(var g=2;g<o;g++)l[g]=e[g];return n.createElement.apply(null,l)}return n.createElement.apply(null,e)}u.displayName="MDXCreateElement"},80414:(t,r,e)=>{e.r(r),e.d(r,{assets:()=>p,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>g});var n=e(87462),a=(e(67294),e(3905));const o={tags:["MFC"]},l="Converting from CString",i={permalink:"/blog/2012/03/13/converting-from-cstring",source:"@site/blog/2012-03-13-converting-from-cstring.md",title:"Converting from CString",description:"This post demonstrates how to convert from a CString\xa0to the other string types",date:"2012-03-13T00:00:00.000Z",formattedDate:"March 13, 2012",tags:[{label:"MFC",permalink:"/blog/tags/mfc"}],readingTime:1.13,hasTruncateMarker:!1,authors:[],frontMatter:{tags:["MFC"]},prevItem:{title:"Change a Window's title of an SDI/MDI Application",permalink:"/blog/2012/03/13/change-a-windows-title-of-an-sdimdi"},nextItem:{title:"How do remove 'Untitled' in main window caption",permalink:"/blog/2012/03/13/how-do-remove-untitled-in-main-window-caption"}},p={authorsImageUrls:[]},g=[],c={toc:g},s="wrapper";function m(t){let{components:r,...e}=t;return(0,a.kt)(s,(0,n.Z)({},c,e,{components:r,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This post demonstrates how to convert from a ",(0,a.kt)("strong",{parentName:"p"},"CString"),"\xa0to the other string types"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CString to\xa0LPTSTR")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'CString origCString = "HelloWorld";\n\n// Get the internal buffer pointer of CString.\nLPTSTR pString = origCString.GetBuffer(0);\n\n//Release it.\norigCString.ReleaseBuffer();\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"LPTSTR to")," CString"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'LPTSTR origLPTSTR = "HelloWorld";\nCString sCString = CString(origLPTSTR);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CString to\xa0char","*")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'CString origCString = "HelloWorld";\n\n// Get the internal buffer pointer of CString.\nchar* pString = origCString.GetBuffer();\n\n//Release it.\norigCString.ReleaseBuffer();\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"char* to")," CString"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'char* origchar = "HelloWorld";\nCString cstring = CString(origchar);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CString to\xa0CComBSTR")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'CString origCString = "HelloWorld";\nCComBSTR ccombstr = CComBSTR(origCString);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CComBSTR to")," CString"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'CComBSTR origCComBSTR = "HelloWorld";\nCString cstring = CString(origCComBSTR);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CString\xa0to")," _bstr_t"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'CString origCString = "HelloWorld";\n_bstr_t bstrt = _bstr_t(origCString);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"_bstr_t to")," CString"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'_bstr_t origbstrt  = "HelloWorld";\nCString cstring = CString((char\\*)origbstrt);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CString\xa0to")," BSTR"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'CString origCString = "HelloWorld";\nBSTR bstr = origCString.AllocSysString();\n::SysFreeString(bstr); //Free the string.\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"BSTR to")," CString"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'BSTR origbstr  = "HelloWorld";\nCString cstring = CString(origbstr);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CString\xa0to")," CComVariant"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'CString origCString = "HelloWorld";\nCComVariant comvariant =  CComVariant(origCString);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CComVariant to")," CString"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'CComVariant origcomvariant  = "HelloWorld";\nCString cstring = CString(origcomvariant);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CString\xa0to")," COleVariant"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'CString origCString = "HelloWorld";\nCOleVariant olevariant =  CComVariant(origCString);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"COleVariant to")," CString"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'COleVariant origolevariant  = "HelloWorld";\nCString cstring = CString(origolevariant);\n')))}m.isMDXComponent=!0}}]);
"use strict";(self.webpackChunknagvbt=self.webpackChunknagvbt||[]).push([[11195],{3905:(t,r,e)=>{e.d(r,{Zo:()=>c,kt:()=>C});var n=e(67294);function a(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function o(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function i(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?o(Object(e),!0).forEach((function(r){a(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}function l(t,r){if(null==t)return{};var e,n,a=function(t,r){if(null==t)return{};var e,n,a={},o=Object.keys(t);for(n=0;n<o.length;n++)e=o[n],r.indexOf(e)>=0||(a[e]=t[e]);return a}(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)e=o[n],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(a[e]=t[e])}return a}var g=n.createContext({}),p=function(t){var r=n.useContext(g),e=r;return t&&(e="function"==typeof t?t(r):i(i({},r),t)),e},c=function(t){var r=p(t.components);return n.createElement(g.Provider,{value:r},t.children)},s="mdxType",m={inlineCode:"code",wrapper:function(t){var r=t.children;return n.createElement(n.Fragment,{},r)}},u=n.forwardRef((function(t,r){var e=t.components,a=t.mdxType,o=t.originalType,g=t.parentName,c=l(t,["components","mdxType","originalType","parentName"]),s=p(e),u=a,C=s["".concat(g,".").concat(u)]||s[u]||m[u]||o;return e?n.createElement(C,i(i({ref:r},c),{},{components:e})):n.createElement(C,i({ref:r},c))}));function C(t,r){var e=arguments,a=r&&r.mdxType;if("string"==typeof t||a){var o=e.length,i=new Array(o);i[0]=u;var l={};for(var g in r)hasOwnProperty.call(r,g)&&(l[g]=r[g]);l.originalType=t,l[s]="string"==typeof t?t:a,i[1]=l;for(var p=2;p<o;p++)i[p]=e[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,e)}u.displayName="MDXCreateElement"},6336:(t,r,e)=>{e.r(r),e.d(r,{assets:()=>g,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var n=e(87462),a=(e(67294),e(3905));const o={title:"Converting from CString",date:"2012-03-13",categories:["c-cpp-mfc-vcpp"],tags:["MFC","vc"]},i=void 0,l={permalink:"/blog/2012/03/13/converting-from-cstring",source:"@site/blog/2012-03-13-converting-from-cstring.md",title:"Converting from CString",description:"This post demonstrates how to convert from a CString\xa0to the other string types",date:"2012-03-13T00:00:00.000Z",formattedDate:"March 13, 2012",tags:[{label:"MFC",permalink:"/blog/tags/mfc"},{label:"vc",permalink:"/blog/tags/vc"}],readingTime:1.07,hasTruncateMarker:!1,authors:[],frontMatter:{title:"Converting from CString",date:"2012-03-13",categories:["c-cpp-mfc-vcpp"],tags:["MFC","vc"]},prevItem:{title:"Creating an SDI/MDI application that is initially maximized",permalink:"/blog/2012/03/14/creating-an-sdimdi-application-that-is-initially-maximized"},nextItem:{title:"How do remove 'Untitled' in main window caption",permalink:"/blog/2012/03/13/how-do-remove-untitled-in-main-window-caption"}},g={authorsImageUrls:[]},p=[],c={toc:p},s="wrapper";function m(t){let{components:r,...e}=t;return(0,a.kt)(s,(0,n.Z)({},c,e,{components:r,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This post demonstrates how to convert from a ",(0,a.kt)("strong",{parentName:"p"},"CString"),"\xa0to the other string types"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CString to\xa0LPTSTR")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'CString origCString = "HelloWorld";\n\n// Get the internal buffer pointer of CString.\nLPTSTR pString = origCString.GetBuffer(0);\n\n//Release it.\norigCString.ReleaseBuffer();\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"LPTSTR to")," CString\xa0"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'LPTSTR origLPTSTR = "HelloWorld";\nCString sCString = CString(origLPTSTR);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CString to\xa0char","*")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'CString origCString = "HelloWorld";\n\n// Get the internal buffer pointer of CString.\nchar\\* pString = origCString.GetBuffer();\n\n//Release it.\norigCString.ReleaseBuffer();\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"char","*"," to")," CString"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'char\\* origchar = "HelloWorld";\nCString cstring = CString(origchar);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CString to\xa0CComBSTR")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'CString origCString = "HelloWorld";\nCComBSTR ccombstr = CComBSTR(origCString);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CComBSTR to")," CString"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'CComBSTR origCComBSTR = "HelloWorld";\nCString cstring = CString(origCComBSTR);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CString\xa0to")," ","_","bstr","_","t"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'CString origCString = "HelloWorld";\n\\_bstr\\_t bstrt = \\_bstr\\_t(origCString);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"_","bstr","_","t to")," CString"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'\\_bstr\\_t origbstrt  = "HelloWorld";\nCString cstring = CString((char\\*)origbstrt);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CString\xa0to")," BSTR"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'CString origCString = "HelloWorld";\nBSTR bstr = origCString.AllocSysString();\n::SysFreeString(bstr); //Free the string.\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"BSTR to")," CString"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'BSTR origbstr  = "HelloWorld";\nCString cstring = CString(origbstr);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CString\xa0to")," CComVariant"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'CString origCString = "HelloWorld";\nCComVariant comvariant =  CComVariant(origCString);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CComVariant to")," CString"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'CComVariant origcomvariant  = "HelloWorld";\nCString cstring = CString(origcomvariant);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"CString\xa0to")," COleVariant"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'CString origCString = "HelloWorld";\nCOleVariant olevariant =  CComVariant(origCString);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"COleVariant to")," CString"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'COleVariant origolevariant  = "HelloWorld";\nCString cstring = CString(origolevariant);\n')))}m.isMDXComponent=!0}}]);